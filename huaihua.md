刘建平: 

专网是43段的   公安网是10段的   中间有边界，根据规定无法直接打通 只能打通几个端口

-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------


chenzhe8:

各位好：
怀化项目和第三方对接在开发完成后现场测试发现在从我们平台去第三方平台进行token校验时候,
因为两个网段不通的关系导致请求无法发出去。现场同事给的意见是网络边界可以对指定端口进行放行来处理。
为了实现指定请求端口功能，我们一方面在调研相关的技术实现，一方面进行相应的测试，
但是在测试过程中又发现几点问题：
1、一旦制定端口，该请求都要经过该端口发送出去，因为端口不能复用，请求只有排队依次发出去；
2、基于网络通信的一些基本原理，端口使用过后需要经过释放，才能被下次请求使用，
而网络层为了保障通信质量，释放是需要时间的，一般默认为4分钟，可以设置改到30秒，
也就是说当有并发请求时，用户至少要等待30秒以上才能打开页面，这肯定是不能让用户接受的。

基于以上考量，我方认为应该基于项目现场的网络环境重新设计对接方案。


-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
蒋东林5:

刘工，这我看到过了，我是这样想的。怀化有个特色，小范围的走双网卡服务器暂时是默认的。
那么能否直接中转方式，如8200→中间件（类似双网域mq）→警务平台来实现？

-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
chenzhe8:

如果有双网卡服务器的话，理论上可以在双网卡服务器上部署一个代理服务器，这样平台把请求代理到双网卡服务器，由双网卡服务器转发到警务平台

